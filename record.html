<!DOCTYPE html>
<html>
  <head>
    <title>Jack Flanagan</title>

    <link rel="stylesheet" href="main.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="theme-color" content="#ffffff">

  </head>
  <body>

      <script src="https://www.gstatic.com/firebasejs/4.0.0/firebase.js"></script>
      <script src="jquery-3.0.0.min.js"></script>
      <script>

//======================SET UP FIREBASE======================

var config = {
    apiKey: "AIzaSyD0-AH_4UqnK2-blWMrI4QFVY13c3pPIjQ",
    authDomain: "yft-2-86aaa.firebaseapp.com",
    databaseURL: "https://yft-2-86aaa.firebaseio.com",
    projectId: "yft-2-86aaa",
    storageBucket: "yft-2-86aaa.appspot.com",
    messagingSenderId: "224550812064"
  };
firebase.initializeApp(config);

var database = firebase.database();

//======================ADD CONTENT======================

var containerBox = document.createElement("div");
containerBox.setAttribute("class", "container");
containerBox.setAttribute("style", "width:90%");

var id = window.location.hash.substring(1);

firebase.database().ref('records/' + id).once('value').then(function(snapshot) {

  item = snapshot.val();

  var postbody = document.createElement("div");
  postbody.setAttribute("class","post-body");

  var isgood = true;

  var postbox = document.createElement("div");
  postbox.setAttribute("class", "post-box");

  console.log("here");

  var recordData = document.createElement("div");
  recordData.setAttribute("class", "break");
  recordData.setAttribute("style", "width:60%; margin-left: 20%; float:left; font-size: 20px");

  for (var a in item) {

    console.log("222");

      if (a == "id") {

        var recordImage = document.createElement("img");

        var srcURL = "https://firebasestorage.googleapis.com/v0/b/yft-2-86aaa.appspot.com/o/gasreceipts%2F" + item["id"] + "?alt=media&token=280c2bfc-5e72-4b2b-bf22-0da7de55d34b";

        recordImage.setAttribute("src", srcURL);
        recordImage.setAttribute("width", "100%");
        recordImage.setAttribute("style", "display:inline;float:left");
        recordData.appendChild(recordImage);


      } else if (a == "name") {

        var recordDataName =  document.createElement("p");
        recordDataName.setAttribute("style", "display: inline");
        var recordDataNameText = document.createTextNode("Name: " + item[a]);
        recordDataName.appendChild(recordDataNameText);
        var break1 = document.createElement("br");
        var break2 = document.createElement("br");

        recordData.appendChild(recordDataName);
        recordData.appendChild(break1);
        recordData.appendChild(break2);

      } else if (a == "plate") {

        var recordDataPlate =  document.createElement("p");
        recordDataPlate.setAttribute("style", "display: inline");
        var recordDataPlateText = document.createTextNode("Name: " + item[a]);
        recordDataPlate.appendChild(recordDataPlateText);
        var break1 = document.createElement("br");
        var break2 = document.createElement("br");

        recordData.appendChild(recordDataPlate);
        recordData.appendChild(break1);
        recordData.appendChild(break2);

      } else if (a == "vin") {

        var recordDataVIN =  document.createElement("p");
        recordDataVIN.setAttribute("style", "display: inline");
        var recordDataVINText = document.createTextNode("Quarles Card: " + item[a]);
        recordDataVIN.appendChild(recordDataVINText);
        var break1 = document.createElement("br");
        var break2 = document.createElement("br");

        recordData.appendChild(recordDataVIN);
        recordData.appendChild(break1);
        recordData.appendChild(break2);

      }

  }

  containerBox.appendChild(recordData);
  document.body.appendChild(containerBox);

})

</script>

</div>

</body>
</html>
